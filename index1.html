<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Pomodoro Mini (with Controls)</title>
<style>
  *, *::before, *::after { box-sizing: border-box; }
  html, body { height: 100%; margin: 0; padding: 0; }
  body{
    font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, "Helvetica Neue", Arial, "Apple Color Emoji", "Segoe UI Emoji";
    background:#0b0c10; color:#e6e7ea; display:flex; align-items:center; justify-content:center;
  }
  :root{
    --diam: 300px;       /* total widget size (square) */
    --ring: 0.04;        /* ring thickness as % of diameter (0.02–0.10) */
    --fs: 0.22;          /* big time font scale (0.16–0.30) */
    --accent:#7c3aed; --text:#e6e7ea; --muted:#9aa1aa; --danger:#ef4444;
  }
  [data-theme="light"]{ --text:#111317; --muted:#67707a; }

  .shell{
    width: var(--diam);
    height: var(--diam);
    position: relative;
    margin:0 auto;
    background: transparent; /* transparent for Notion */
  }

  /* DIAL AREA */
  .dial{
    position:absolute; inset:0;
    padding: 8px 8px 54px 8px; /* bottom space for buttons */
  }
  .ring{
    width: 100%; height: 100%;
    position: relative;
    cursor: pointer;
  }
  .ring svg{ width:100%; height:100%; display:block; transform: rotate(-90deg); }
  .label{
    position:absolute; inset:0;
    display:grid; place-items:center;
    text-align:center; pointer-events:none;
    padding: 10%; /* safe margin from ring */
  }
  .big{
    margin:0; line-height:1; font-variant-numeric: tabular-nums;
    font-weight:800; letter-spacing:.5px;
    font-size: clamp(18px, calc(var(--diam) * var(--fs)), 64px);
    color:var(--text);
  }
  .sub{ margin-top:6px; color:var(--muted); font-size: clamp(10px, calc(var(--diam) * 0.06), 14px); }

  /* MINI CONTROLS: fixed inside the square at bottom */
  .controls{
    position:absolute; left:0; right:0; bottom:8px;
    display:flex; gap:6px; justify-content:center; align-items:center;
    padding:0 8px;
  }
  .btn{ border:none; border-radius:10px; padding:8px 10px; font-weight:700; font-size:12px; cursor:pointer; }
  .primary{ background:var(--accent); color:#fff; }
  .ghost{ background:rgba(255,255,255,0.10); color:var(--text); }
  .danger{ background:var(--danger); color:#fff; }

  /* Hide controls entirely if controls=0 */
  .no-controls .controls{ display:none; }
</style>
</head>
<body>
  <div class="shell" id="root">
    <div class="dial">
      <div class="ring" id="dial" aria-label="Timer dial (click to start/pause; double-click to reset)">
        <svg viewBox="0 0 120 120" aria-hidden="true">
          <circle id="track" cx="60" cy="60" r="54" stroke="rgba(255,255,255,.12)" fill="none" />
          <circle id="arc"   cx="60" cy="60" r="54" stroke="var(--accent)" fill="none" stroke-linecap="round"/>
        </svg>
        <div class="label">
          <div class="big" id="time">25:00</div>
          <div class="sub" id="subtext">Cycle 1/4</div>
        </div>
      </div>
    <
